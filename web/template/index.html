<html>
<head>
    <title>parashort</title>
</head>
<body>
<h3>parashort</h3>
<p>
    enter key and wee go!
</p>
<p>
<ul>
    <li>
        <a href="/">main</a>
    </li>
    <li>
        <a href="/list">list</a>
    </li>
</ul>
</p>
{{ if .errMsg }}
    <pre>
        {{.errMsg}}
    </pre>
{{end}}
<form id="show_form" action="/z/" method="get">
    <label for="key">search key: </label><input type="text" name="key" id="key" required minlength="5" maxlength="100">
    <input type="submit">
</form>

<form id="save_form" enctype="multipart/form-data" action="/save" method="post">
    <label for="required_key">required key: </label>
    <input type="text" name="required_key" id="required_key" minlength="5" maxlength="100"/>
    <input type="submit">
    <textarea style="width: 100%;" required rows="50" name="text" id="text" minlength="1"></textarea>
</form>

<script>
    window.onload = () => {
        const form = document.getElementById("show_form")
        form.onsubmit = () => {
            const key = document.getElementById("key").value
            if (key.length < 5 || key.length > 100) {
                alert("invalid key: 5 <= len  <= 100")
                return false
            }
            window.location = `/z/${key}`
            return false
        }
    }
</script>
</body>
</html>
